CREATE DATABASE millet;
USE millet;

CREATE TABLE USER(
	NAME VARCHAR(30) PRIMARY KEY,
	PASSWORD VARCHAR(30) NOT NULL,
	tag BIGINT(4) DEFAULT 0
);
CREATE TABLE address(
	id BIGINT(30) AUTO_INCREMENT PRIMARY KEY,
	userName VARCHAR(30) NOT NULL,
	NAME VARCHAR(10) NOT NULL,
	phone VARCHAR(11) NOT NULL,
	address VARCHAR(30) NOT NULL,
	tag BIGINT(4) DEFAULT 0
);
ALTER TABLE address ADD CONSTRAINT fk_address_user FOREIGN KEY(userName)
REFERENCES USER(NAME);

CREATE TABLE classify(
	id BIGINT AUTO_INCREMENT PRIMARY KEY,
	NAME VARCHAR(30) NOT NULL,
	tag BIGINT(2) DEFAULT 0 
);
CREATE TABLE commodity(
	id BIGINT AUTO_INCREMENT PRIMARY KEY,
	img VARCHAR(50) DEFAULT 'default.jpg',
	NAME VARCHAR(50) NOT NULL,
	classifyId BIGINT NOT NULL,
	COUNT BIGINT DEFAULT 10,
	price FLOAT NOT NULL,
	context VARCHAR(100) ,
	tag BIGINT(2) DEFAULT 0
);
ALTER TABLE commodity ADD CONSTRAINT fk_commodity_classify FOREIGN KEY(classifyId)
REFERENCES classify(id);

CREATE TABLE shopping (
	id BIGINT AUTO_INCREMENT PRIMARY KEY,
	userName VARCHAR(30) NOT NULL,
	commodityId BIGINT NOT NULL,
	COUNT INT NOT NULL
);
ALTER TABLE shopping ADD CONSTRAINT fk_shopping_commodity FOREIGN KEY(commodityId)
REFERENCES commodity(id);

ALTER TABLE shopping ADD CONSTRAINT fk_shopping_user FOREIGN KEY(userName)
REFERENCES USER(NAME);

CREATE TABLE orderForm(
	NAME VARCHAR(50) PRIMARY KEY,
	userName VARCHAR(30) NOT NULL,
	addressId BIGINT(30) NOT NULL
	commodityIds TEXT NOT NULL,
	counts TEXT NOT NULL,
	tag BIGINT(5) DEFAULT 0
);

ALTER TABLE orderForm ADD CONSTRAINT fk_orderForm_user FOREIGN KEY(userName)
REFERENCES USER(NAME);

INSERT INTO USER VALUES('admin','123456',DEFAULT);
INSERT INTO address VALUES(DEFAULT,'admin','admin','12345678912','邯郸市XXXXX',0);
INSERT INTO classify VALUES (DEFAULT,'123',DEFAULT);
INSERT INTO commodity VALUES(DEFAULT,DEFAULT,'1111111111111',1,DEFAULT,'120.10','XXXXXXXXXXXXXXXXXXXXXXX',DEFAULT);
INSERT INTO shopping VALUES(DEFAULT,'admin','1','2');
INSERT INTO orderForm VALUES('000000000000','admin','1','1','1',DEFAULT);


SELECT * FROM classify


SELECT * FROM commodity


TRUNCATE commodity


#
#aac0f9ad72ec4894.png
#1368.00
#pro 6400万四摄Redmi手机【现货速发】 冰翡翠 8G+128G 全网通

INSERT INTO commodity VALUES(DEFAULT,'aac0f9ad72ec4894.png','小米 红米Note8',1,DEFAULT,'1368.00','pro 6400万四摄Redmi手机【现货速发】 冰翡翠 8G+128G 全网通',DEFAULT);



